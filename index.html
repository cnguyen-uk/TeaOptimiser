<!DOCTYPE html>
<html>
  <head>
    <title>Calculator for Required Brewing Water in Making Tea</title>
    <style>
      /* Add CSS styles for the page layout */
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
      }

      h1 {
        margin: 30px 20px;
        font-size: 36px;
        color: #222;
      }

      main {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
      }

      /* Add CSS styles for the form and input fields */
      form {
        margin: 20px 0;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #f5f5f5;
      }

      label {
        display: inline-block;
        width: 150px;
        margin: 10px 0;
        font-weight: bold;
      }

      input[type="text"] {
        width: 100px;
        padding: 5px;
        margin: 10px 0;
        border: none;
        border-radius: 3px;
        box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.2);
      }

      input[type="text"]:focus {
        outline: none;
        box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.4);
      }

      input[type="submit"] {
        padding: 10px 20px;
        margin-top: 20px;
        border: none;
        border-radius: 3px;
        background-color: #4285f4;
        color: #fff;
        font-weight: bold;
        cursor: pointer;
      }

      input[type="submit"]:hover {
        background-color: #3c78d8;
      }

      /* Add CSS styles for the result cell */
      .result {
        margin: 20px 0;
        padding: 20px;
        border-radius: 5px;
        font-size: 24px;
        font-weight: bold;
        color: #fff;
        text-align: center;
      }

      .gray {
        background-color: #ccc;
      }

      .red {
        background-color: #f44336;
      }

      .yellow {
        background-color: #ffeb3b;
        color: #222;
      }

      .green {
        background-color: #4caf50;
      }
    </style>
  </head>
  <body>
    <h1>Calculator for Required Brewing Water in Making Tea</h1>
    <main>
      <form id="brewingForm">
        <label for="peopleInput">Number of People:</label>
        <input type="text" id="peopleInput" name="peopleInput" required><br>

        <label for="teacupSizeInput">Teacup Size (ml):</label>
        <input type="text" id="teacupSizeInput" name="teacupSizeInput" required><br>

        <label for="fillInput">Teacup Fill (%):</label>
        <input type="text" id="fillInput" name="fillInput" required><br>
 
        <label for="teapotSizeInput">Teapot Size (ml):</label>
        <input type="text" id="teapotSizeInput" name="teapotSizeInput" required><br>

        <input type="submit" value="Calculate Water Required">
      </form>

  <div class="result" id="resultCell">0 ml</div>
</main>

    <h2>Assumptions</h2>
    <ul>
      <li>The general recommended teapot fill is between 80% and 90% of maximum capacity.</li>
      <li>If a teapot is underfilled by too much, then it can be difficult to control the temperature of the brew since the hot water will cool down too fast due to the higher surface area to volume ratio (heat loss is proportional to the surface area, and stored heat energy is proportional to the volume).</li>
      <li>If a teapot is filled over 90% of capacity, then any in-built filters may get clogged with tea leaves, which will affect pouring.</li>
    </ul>

    <h2>Result Explanation</h2>
      <ul>
        <li>If the result goes green, then the teapot is the ideal size for the water required.</li>
        <li>If the result goes yellow, then the teapot should be filled more than the required amount to reach at least 80% of the teapot size to improve heat retention, with a pitcher used to decant any leftover tea that doesn't fit in the teacup.</li>
        <li>If the result goes red, then the teapot has been overfilled (exceeds 90% of capacity).</li>
        <li>If the result goes grey, then the teapot size is logistically too small for the water required.</li>
      </ul>

    <script>
      // Add JavaScript code to calculate the required amount of water
      const form = document.getElementById("brewingForm");
      const resultCell = document.getElementById("resultCell");

      form.addEventListener("submit", (event) => {
        event.preventDefault();

        // Read the values entered by the user
        const people = Number(document.getElementById("peopleInput").value);
        const teacupSize = Number(document.getElementById("teacupSizeInput").value);
        const fill = Number(document.getElementById("fillInput").value);
        const teapotSize = Number(document.getElementById("teapotSizeInput").value);

        // Calculate the required amount of water
        const waterRequired = (people * teacupSize * fill * 0.01) - teapotSize;
        const waterRequiredRounded = Math.round(waterRequired);

        // Display the result and apply the appropriate background color
        resultCell.innerText = waterRequiredRounded + " ml";
        resultCell.classList.remove("gray", "red", "yellow", "green");

        if (teapotSize < waterRequired) {
          resultCell.classList.add("gray");
        } else if (waterRequired / teapotSize > 0.9) {
          resultCell.classList.add("red");
        } else if (waterRequired / teapotSize < 0.8) {
          resultCell.classList.add("yellow");
        } else {
          resultCell.classList.add("green");
        }
      });
    </script>
  </body>
</html>
